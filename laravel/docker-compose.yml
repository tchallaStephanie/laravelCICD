#Definir les services app et db 

services:
    app:
        build: . #Cr√©er une image a partir du dockerfile courant
        image: laravelapp
        entrypoint: ["/bin/bash","/projet/entrypoint.sh"]
        restart: unless-stopped
        ports:
            - "7000:8000"
            
        volumes: 
            - ./app:/projet
        depends_on: 
            - db 
    
    db:
        image: postgres:15
        volumes:
            - dbdata:/var/lib/postgresql/data
        env_file:
            #- ./app/.env
            - .env
        #environment:
           # - POSTGRES_USER=${DB_USERNAME}
           # - POSTGRES_DB=${DB_DATABASE}
            #- POSTGRES_PASSWORD=${DB_PASSWORD}
volumes:
    dbdata:
